if (self.CavalryLogger) { CavalryLogger.start_js(["WWI\/v"]); }

__d("XReCaptchaLogActionsController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/captcha/recaptcha_log_actions/",{})}),null);
__d("Recaptcha",["fbt","AsyncRequest","Bootloader","CaptchaClientConfig","CSS","CurrentLocale","DOM","Event","Keys","XReCaptchaLogActionsController","ge"],(function(a,b,c,d,e,f,g){__p&&__p();var h,i={tabindex:0,callback:null},j={en_US:"en",en_GB:"en",en_PI:"en",nl_NL:"nl",nl_BE:"nl",fr_FR:"fr",fr_CA:"fr",de_DE:"de",es_LA:"es",es_ES:"es",es_CL:"es",es_CO:"es",es_MX:"es",es_VE:"es",ru_RU:"ru",tr_TR:"tr"},k=!1,l={widget:null,timer_id:-1,fail_timer_id:-1,type:"image",ajax_verify_cb:null,audio_only:!1,$:function(a){if(typeof a=="string")return document.getElementById(a);else return a},setFocusOnLoad:function(a){k=a},create:function(a,c){l.destroy(),a&&(l.widget=l.$(a)),l._init_options(c),l._call_challenge(b("CaptchaClientConfig").recaptchaPublicKey)},destroy:function(){var a=l.$("recaptcha_challenge_field");a&&a.parentNode.removeChild(a);l.timer_id!=-1&&clearInterval(l.timer_id);l.timer_id=-1;a=l.$("recaptcha_image");a&&(a.innerHTML="");l.widget&&(l.widget.style.display="none",l.widget=null)},focus_response_field:function(){var a=l.$;a=a("captcha_response");try{a.focus()}catch(a){}},get_challenge:function(){return typeof a.RecaptchaState=="undefined"?null:a.RecaptchaState.challenge},get_response:function(){var a=l.$;a=a("captcha_response");return!a?null:a.value},ajax_verify:function(a){l.ajax_verify_cb=a;a=l._get_api_server()+"/ajaxverify?c="+encodeURIComponent(l.get_challenge())+"&response="+encodeURIComponent(l.get_response());l._add_script(a)},_ajax_verify_callback:function(a){l.ajax_verify_cb(a)},_get_api_server:function(){var b=window.location.protocol,c;typeof a._RecaptchaOverrideApiServer!="undefined"?c=a._RecaptchaOverrideApiServer:c="www.google.com";return b+"//"+c},_call_challenge:function(a){l.audio_only||(l.fail_timer_id=setTimeout(function(){l.fail_timer_id==-1&&l.logAction("timeout"),l.createCaptcha()},15e3));a=l._get_api_server()+"/recaptcha/api/challenge?k="+a+"&ajax=1&xcachestop="+Math.random();b("ge")("extra_challenge_params")!=null&&(a+="&"+b("ge")("extra_challenge_params").value);l._add_script(a)},_add_script:function(a){b("Bootloader").requestJSResource_UNSAFE_NEEDS_REVIEW_BY_SECURITY_AND_XFN(a)},_init_options:function(a){var b=i;a=a||{};for(var c in a)b[c]=a[c];h=b},challenge_callback:function(){__p&&__p();l.audio_only||(clearTimeout(l.fail_timer_id),l._reset_timer());window.addEventListener&&window.addEventListener("unload",function(a){l.destroy()},!1);l._is_ie()&&window.attachEvent&&window.attachEvent("onbeforeunload",function(){});if(navigator.userAgent.indexOf("KHTML")>0){var a=document.createElement("iframe");a.src="about:blank";a.style.height="0px";a.style.width="0px";a.style.visibility="hidden";a.style.border="none";var b=document.createTextNode("This frame prevents back/forward cache problems in Safari.");a.appendChild(b);document.body.appendChild(a)}l._finish_widget();l.audio_only&&l.switch_type("audio");l.logAction("shown")},_finish_widget:function(){__p&&__p();var b=l.$,c=a.RecaptchaState,d=h,e=document.createElement("input");e.type="password";e.setAttribute("autocomplete","off");e.style.display="none";e.name="recaptcha_challenge_field";e.id="recaptcha_challenge_field";b("captcha_response").parentNode.insertBefore(e,b("captcha_response"));b("captcha_response").setAttribute("autocomplete","off");b("recaptcha_image").style.width="300px";b("recaptcha_image").style.height="57px";l.should_focus=!1;!l.audio_only?l._set_challenge(c.challenge,"image"):l._set_challenge(c.challenge,"audio");d.tabindex&&(b("captcha_response").tabIndex=d.tabindex);l.widget&&(l.widget.style.display="");d.callback&&d.callback();b("recaptcha_loading").style.display="none"},switch_type:function(a){var b=l;b.type=a;b.$("recaptcha_type").value=a;b.reload(b.type=="audio"?"a":"v")},reload:function(c){var d=l;d.$;var e=a.RecaptchaState;typeof c=="undefined"&&(c="r");e=e.server+"reload?c="+e.challenge+"&k="+e.site+"&reason="+c+"&type="+d.type+"&lang="+l.getLang();b("ge")("extra_challenge_params")!=null&&(e+="&"+b("ge")("extra_challenge_params").value);d.should_focus=c!="t";d._add_script(e)},finish_reload:function(b,c){a.RecaptchaState.is_incorrect=!1,l._set_challenge(b,c)},_set_challenge:function(c,d){__p&&__p();var e=l,f=a.RecaptchaState,h=e.$;f.challenge=c;e.type=d;h("recaptcha_challenge_field").value=f.challenge;h("recaptcha_challenge_field").defaultValue=f.challenge;h("recaptcha_image").innerHtml="";if(d=="audio")b("DOM").setContent(document.getElementById("recaptcha_image"),l.setAudioCaptchaControls()),b("DOM").setAttributes(document.getElementById("captcha_response"),{"aria-label":g._("Audio Captcha input. Press the play audio captcha button above to start the audio. Enter the numbers you hear into this input and then submit the form to proceed.")});else if(d=="image"){c=f.server+"image?c="+f.challenge;h("recaptcha_image").innerHTML="<img style='display:block;' height='57' width='300' src='"+c+"'/>";b("DOM").setAttributes(document.getElementById("captcha_response"),{"aria-label":g._("Captcha input. Type the words listed above to continue. Additionally you may also try the audio captcha by clicking the link above.")})}l._css_toggle("recaptcha_had_incorrect_sol","recaptcha_nothad_incorrect_sol",f.is_incorrect);l._css_toggle("recaptcha_is_showing_audio","recaptcha_isnot_showing_audio",d=="audio");e.should_focus&&e.focus_response_field();e._reset_timer()},_reset_timer:function(){var b=a.RecaptchaState;clearInterval(l.timer_id);l.timer_id=setInterval(function(){return l.reload("t")},(b.timeout-60*5)*1e3)},_clear_input:function(){var a=l.$("captcha_response");a.value=""},_displayerror:function(a){var c=l.$;b("DOM").empty("recaptcha_image");c("recaptcha_image").appendChild(document.createTextNode(a))},reloaderror:function(a){l._displayerror(a)},_is_ie:function(){return navigator.userAgent.indexOf("MSIE")>0&&!window.opera},_css_toggle:function(a,c,d){var e=l.widget;e||(e=document.body);var f=e.className;f=f.replace(new RegExp("(^|\\s+)"+a+"(\\s+|$)")," ");f=f.replace(new RegExp("(^|\\s+)"+c+"(\\s+|$)")," ");f+=" "+(d?a:c);b("CSS").setClass(e,f)},handlePlayPress:function(event){var a=b("Event").getKeyCode(event);(a===b("Keys").RETURN||a===b("Keys").SPACE)&&(b("Event").prevent(event),this.playAgain())},handlePlayClick:function(event){b("Event").prevent(event),this.playAgain()},playAgain:function(){b("DOM").setContent(document.getElementById("recaptcha_audio_container"),l.getAudioCaptchaHtml())},setAudioCaptchaControls:function(){__p&&__p();var c=a.RecaptchaState;c=c.server+"image?c="+c.challenge;c.indexOf("https://")==0&&(c="http://"+c.substring(8));var d=b("DOM").create("div"),e=b("DOM").create("a",{href:"#","class":"recaptcha_audio_cant_hear_link recaptcha_text",role:"button",tabindex:"0",onclick:this.handlePlayClick.bind(this),onkeyup:this.handlePlayPress.bind(this)},g._("Play audio captcha"));c=b("DOM").create("a",{"class":"recaptcha_audio_cant_hear_link recaptcha_text",target:"_blank",href:c},g._("Open the audio file in a new window"));var f=b("DOM").create("div",{id:"recaptcha_audio_container"});b("DOM").appendContent(d,c);l.checkFlashVer()&&b("DOM").appendContent(d,e);b("DOM").appendContent(d,f);return d},getAudioCaptchaHtml:function(){__p&&__p();var c=l,d=a.RecaptchaState,e=d.server+"image?c="+d.challenge;e.indexOf("https://")==0&&(e="http://"+e.substring(8));e=d.server+"/img/audiocaptcha.swf?v2";if(c._is_ie()){d=b("DOM").create("object",{classid:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",id:"audiocaptcha",width:"0",height:"0",codebase:"https://fpdownload.macromedia.com/get/flashplayer/current/swflash.cab"});c=[{name:"movie",value:e},{name:"quality",value:"high"},{name:"bgcolor",value:"869ca7"},{name:"allowScriptAccess",value:"always"}];c.forEach(function(a){b("DOM").appendContent(b("DOM").create("param",a))})}else d=b("DOM").create("embed",{src:e,url:e,quality:"high",bgcolor:"#869ca7",width:"0",height:"0",name:"audiocaptcha",align:"middle",play:"true",loop:"false",allowScriptAccess:"always",type:"application/x-shockwave-flash",pluginspage:"http://get.adobe.com/flashplayer"});return d},gethttpwavurl:function(){var b=a.RecaptchaState;if(l.type=="audio"){b=b.server+"image?c="+b.challenge;b.indexOf("https://")==0&&(b="http://"+b.substring(8));return b}return""},checkFlashVer:function(){__p&&__p();var a=navigator.appVersion.indexOf("MSIE")!=-1?!0:!1,b=navigator.appVersion.toLowerCase().indexOf("win")!=-1?!0:!1,c=navigator.userAgent.indexOf("Opera")!=-1?!0:!1,d=-1;if(navigator.plugins!=null&&navigator.plugins.length>0){if(navigator.plugins["Shockwave Flash 2.0"]||navigator.plugins["Shockwave Flash"]){var e=navigator.plugins["Shockwave Flash 2.0"]?" 2.0":"";e=navigator.plugins["Shockwave Flash"+e].description;e=e.split(" ");e=e[2].split(".");d=e[0]}}else if(a&&b&&!c)try{e=new window.ActiveXObject("ShockwaveFlash.ShockwaveFlash.7");a=e.GetVariable("$version");d=a.split(" ")[1].split(",")[0]}catch(a){}return d>=9},getLang:function(){return j[b("CurrentLocale").get()]||"en"},createCaptcha:function(){var a={};k&&(a.callback=l.focus_response_field);setTimeout(function(){return l.create("captcha",a)},0)},createAudioCaptcha:function(){setTimeout(function(){l._init_options({}),l.audio_only=!0,l._call_challenge(b("CaptchaClientConfig").recaptchaPublicKey)},0)},logAction:function(a){new(b("AsyncRequest"))().setURI(b("XReCaptchaLogActionsController").getURIBuilder().getURI()).setData({action:a,ua:navigator.userAgent,location:window.location.href}).setMethod("POST").setReadOnly(!0).send()}};e.exports=l;a.Recaptcha=l}),null);
__d("XCaptchaRefreshAsyncController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/captcha/refresh_ajax/",{id:{type:"Int"},new_captcha_type:{type:"String",required:!0},skipped_captcha_data:{type:"String",required:!0},t_auth_token:{type:"String"},show_frame:{type:"Bool",defaultValue:!1},registration_page:{type:"Bool",defaultValue:!1}})}),null);
__d("captchaRefresh",["CSS","$","ge","AsyncRequest","XCaptchaRefreshAsyncController"],(function(a,b,c,d,e,f){function a(a){var c=arguments.length<=1||arguments[1]===undefined?0:arguments[1],d=arguments[2],e=arguments[3],f=arguments[4],g=b("XCaptchaRefreshAsyncController").getURIBuilder().setInt("id",d).setString("new_captcha_type",a).setString("t_auth_token",e).setString("skipped_captcha_data",b("$")("captcha_persist_data").value).setBool("registration_page",c===1).getURI();new(b("AsyncRequest"))().setURI(g).setMethod("GET").setReadOnly(!0).setStatusElement(b("ge")("captcha_throbber")).setHandler(function(){var a=b("ge")("captcha_error_msg");f&&a&&b("CSS").hide(a)}).send()}e.exports=a}),null);
__d("legacy:captcha-generic",["captchaRefresh"],(function(a,b,c,d,e,f){a.captchaRefresh=b("captchaRefresh")}),3);
__d("ConfirmationDialog",["Event","Form","Keys","Parent"],(function(a,b,c,d,e,f){__p&&__p();var g={},h={};a={register:function(a,b,c){g[a]=b,h[a]=c||"confirmed"},setupConfirmation:function(a,c){__p&&__p();var d=arguments.length<=2||arguments[2]===undefined?!1:arguments[2],e=a.getPayload().__dialogID,f=g[e],i=!1,j=f.subscribe(["confirm","cancel","hide"],function(d){__p&&__p();if(d=="confirm"){var k={};k[h[e]]=1;Object.assign(c.data,b("Form").serialize(f.getRoot()),k);c.send();f.hide();i=!0;return}if(d=="cancel"||d=="hide"&&!i){k=c.getServerDialogCancelHandler();try{k&&k(a)}catch(a){throw a}finally{c.finallyHandler(a)}i=!0;if(d=="cancel")return}delete g[e];delete h[e];j.unsubscribe()});b("Event").listen(f.getContentRoot(),"keydown",function(a){a.keyCode===b("Keys").RETURN&&b("Parent").byTag(a.getTarget(),"input")&&f.inform("confirm")});f.show()}};e.exports=a}),null);